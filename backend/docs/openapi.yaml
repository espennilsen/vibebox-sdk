openapi: 3.0.3
info:
  title: VibeBox API
  description: |
    **VibeBox** is a production-ready developer dashboard for managing Docker-based development environments with real-time collaboration, VS Code integration, and comprehensive tooling.

    ## Features
    - Docker-based development environments
    - Real-time log streaming via WebSocket
    - VS Code extension management
    - tmux session management
    - Team collaboration
    - Project organization

    ## Authentication
    All endpoints (except `/auth/register`, `/auth/login`, and `/health`) require JWT authentication via the `Authorization` header:
    ```
    Authorization: Bearer <access_token>
    ```

    ## Rate Limiting
    - API Requests: 1000 requests/hour per user
    - WebSocket Connections: 100 concurrent per user
    - WebSocket Messages: 1000 messages/second per connection
  version: 1.0.0
  contact:
    name: VibeBox API Support
    url: https://github.com/yourusername/vibebox
  license:
    name: MIT
    url: https://opensource.org/licenses/MIT

servers:
  - url: http://localhost:3000/api/v1
    description: Development server
  - url: https://api.vibecode.dev/v1
    description: Production server

tags:
  - name: Authentication
    description: User registration, login, and token management
  - name: Users
    description: User profile management
  - name: Teams
    description: Team management and collaboration
  - name: Projects
    description: Project organization and management
  - name: Environments
    description: Docker-based development environment management
  - name: Sessions
    description: Active processes (VS Code, tmux, shell) inside environments
  - name: Extensions
    description: VS Code extension catalog and installation
  - name: Logs
    description: Environment log management and streaming
  - name: Health
    description: System health checks

components:
  securitySchemes:
    bearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
      description: JWT access token obtained from login or registration

  schemas:
    # Auth Schemas
    RegisterRequest:
      type: object
      required:
        - email
        - password
        - displayName
      properties:
        email:
          type: string
          format: email
          example: user@example.com
        password:
          type: string
          format: password
          minLength: 8
          maxLength: 128
          example: SecurePassword123!
        displayName:
          type: string
          minLength: 1
          maxLength: 100
          example: John Doe

    LoginRequest:
      type: object
      required:
        - email
        - password
      properties:
        email:
          type: string
          format: email
          example: user@example.com
        password:
          type: string
          format: password
          example: SecurePassword123!

    RefreshTokenRequest:
      type: object
      required:
        - refreshToken
      properties:
        refreshToken:
          type: string
          example: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

    AuthResponse:
      type: object
      required:
        - accessToken
        - refreshToken
        - user
      properties:
        accessToken:
          type: string
          example: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
        refreshToken:
          type: string
          example: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
        user:
          $ref: '#/components/schemas/User'

    # User Schemas
    User:
      type: object
      required:
        - id
        - email
        - displayName
        - timezone
        - locale
        - createdAt
        - updatedAt
      properties:
        id:
          type: string
          format: uuid
          example: 550e8400-e29b-41d4-a716-446655440000
        email:
          type: string
          format: email
          example: user@example.com
        displayName:
          type: string
          example: John Doe
        avatarUrl:
          type: string
          format: uri
          nullable: true
          example: https://example.com/avatar.jpg
        timezone:
          type: string
          default: UTC
          example: America/New_York
        locale:
          type: string
          default: en-US
          example: en-US
        sshPublicKey:
          type: string
          nullable: true
          example: ssh-rsa AAAAB3NzaC1yc2EA...
        notificationSettings:
          type: object
          additionalProperties: true
          example:
            email: true
            webhook: false
        createdAt:
          type: string
          format: date-time
          example: 2025-10-01T00:00:00.000Z
        updatedAt:
          type: string
          format: date-time
          example: 2025-10-01T00:00:00.000Z
        lastLoginAt:
          type: string
          format: date-time
          nullable: true
          example: 2025-10-01T12:00:00.000Z

    UpdateUserRequest:
      type: object
      properties:
        displayName:
          type: string
          minLength: 1
          maxLength: 100
          example: Jane Doe
        avatarUrl:
          type: string
          format: uri
          nullable: true
          example: https://example.com/new-avatar.jpg
        timezone:
          type: string
          example: America/Los_Angeles
        locale:
          type: string
          example: en-US
        sshPublicKey:
          type: string
          nullable: true
          example: ssh-rsa AAAAB3NzaC1yc2EA...
        notificationSettings:
          type: object
          additionalProperties: true

    # Team Schemas
    Team:
      type: object
      required:
        - id
        - name
        - slug
        - createdAt
        - updatedAt
      properties:
        id:
          type: string
          format: uuid
          example: 550e8400-e29b-41d4-a716-446655440001
        name:
          type: string
          example: Acme Corp
        slug:
          type: string
          pattern: ^[a-z0-9-]{3,50}$
          example: acme-corp
        description:
          type: string
          nullable: true
          example: Development team
        avatarUrl:
          type: string
          format: uri
          nullable: true
          example: https://example.com/team.jpg
        createdAt:
          type: string
          format: date-time
          example: 2025-10-01T00:00:00.000Z
        updatedAt:
          type: string
          format: date-time
          example: 2025-10-01T00:00:00.000Z

    CreateTeamRequest:
      type: object
      required:
        - name
        - slug
      properties:
        name:
          type: string
          minLength: 1
          maxLength: 100
          example: Acme Corp
        slug:
          type: string
          pattern: ^[a-z0-9-]{3,50}$
          example: acme-corp
        description:
          type: string
          maxLength: 500
          example: Development team
        avatarUrl:
          type: string
          format: uri
          example: https://example.com/team.jpg

    UpdateTeamRequest:
      type: object
      properties:
        name:
          type: string
          minLength: 1
          maxLength: 100
          example: Acme Corporation
        slug:
          type: string
          pattern: ^[a-z0-9-]{3,50}$
          example: acme-corporation
        description:
          type: string
          maxLength: 500
          nullable: true
          example: Updated description
        avatarUrl:
          type: string
          format: uri
          nullable: true
          example: https://example.com/new-team.jpg

    TeamMember:
      type: object
      required:
        - id
        - userId
        - teamId
        - role
        - joinedAt
      properties:
        id:
          type: string
          format: uuid
          example: 550e8400-e29b-41d4-a716-446655440002
        userId:
          type: string
          format: uuid
          example: 550e8400-e29b-41d4-a716-446655440000
        teamId:
          type: string
          format: uuid
          example: 550e8400-e29b-41d4-a716-446655440001
        role:
          type: string
          enum: [admin, developer, viewer]
          example: developer
        joinedAt:
          type: string
          format: date-time
          example: 2025-10-01T12:00:00.000Z
        user:
          $ref: '#/components/schemas/User'

    AddTeamMemberRequest:
      type: object
      required:
        - email
        - role
      properties:
        email:
          type: string
          format: email
          example: newmember@example.com
        role:
          type: string
          enum: [admin, developer, viewer]
          example: developer

    # Project Schemas
    Project:
      type: object
      required:
        - id
        - name
        - slug
        - isArchived
        - createdAt
        - updatedAt
      properties:
        id:
          type: string
          format: uuid
          example: 550e8400-e29b-41d4-a716-446655440003
        name:
          type: string
          example: My Web App
        slug:
          type: string
          pattern: ^[a-z0-9-]{3,50}$
          example: my-web-app
        description:
          type: string
          nullable: true
          example: React application
        ownerId:
          type: string
          format: uuid
          nullable: true
          example: 550e8400-e29b-41d4-a716-446655440000
        teamId:
          type: string
          format: uuid
          nullable: true
          example: 550e8400-e29b-41d4-a716-446655440001
        isArchived:
          type: boolean
          default: false
          example: false
        createdAt:
          type: string
          format: date-time
          example: 2025-10-01T00:00:00.000Z
        updatedAt:
          type: string
          format: date-time
          example: 2025-10-01T00:00:00.000Z

    CreateProjectRequest:
      type: object
      required:
        - name
        - slug
      properties:
        name:
          type: string
          minLength: 1
          maxLength: 100
          example: My Web App
        slug:
          type: string
          pattern: ^[a-z0-9-]{3,50}$
          example: my-web-app
        description:
          type: string
          maxLength: 1000
          example: React application
        teamId:
          type: string
          format: uuid
          description: Optional - omit for personal project
          example: 550e8400-e29b-41d4-a716-446655440001

    UpdateProjectRequest:
      type: object
      properties:
        name:
          type: string
          minLength: 1
          maxLength: 100
          example: My Updated App
        description:
          type: string
          maxLength: 1000
          nullable: true
          example: Updated description
        isArchived:
          type: boolean
          example: false

    # Environment Schemas
    Environment:
      type: object
      required:
        - id
        - name
        - slug
        - projectId
        - creatorId
        - baseImage
        - status
        - cpuLimit
        - memoryLimit
        - storageLimit
        - createdAt
        - updatedAt
      properties:
        id:
          type: string
          format: uuid
          example: 550e8400-e29b-41d4-a716-446655440004
        name:
          type: string
          example: Development
        slug:
          type: string
          pattern: ^[a-z0-9-]{3,50}$
          example: dev
        description:
          type: string
          nullable: true
          example: Development environment
        projectId:
          type: string
          format: uuid
          example: 550e8400-e29b-41d4-a716-446655440003
        creatorId:
          type: string
          format: uuid
          example: 550e8400-e29b-41d4-a716-446655440000
        baseImage:
          type: string
          example: node:20
        containerId:
          type: string
          nullable: true
          example: docker-container-id-123
        status:
          type: string
          enum: [stopped, starting, running, stopping, error]
          example: running
        errorMessage:
          type: string
          nullable: true
          example: Failed to start container
        cpuLimit:
          type: number
          format: float
          minimum: 0.1
          maximum: 16
          default: 2.0
          example: 2.0
        memoryLimit:
          type: integer
          minimum: 128
          maximum: 32768
          default: 4096
          description: Memory limit in MB
          example: 4096
        storageLimit:
          type: integer
          minimum: 1024
          maximum: 102400
          default: 20480
          description: Storage limit in MB
          example: 20480
        createdAt:
          type: string
          format: date-time
          example: 2025-10-01T00:00:00.000Z
        updatedAt:
          type: string
          format: date-time
          example: 2025-10-01T00:00:00.000Z
        startedAt:
          type: string
          format: date-time
          nullable: true
          example: 2025-10-01T12:00:00.000Z
        stoppedAt:
          type: string
          format: date-time
          nullable: true
          example: null

    CreateEnvironmentRequest:
      type: object
      required:
        - name
        - slug
        - projectId
        - baseImage
      properties:
        name:
          type: string
          minLength: 1
          maxLength: 100
          example: Development
        slug:
          type: string
          pattern: ^[a-z0-9-]{3,50}$
          example: dev
        description:
          type: string
          maxLength: 1000
          example: Development environment
        projectId:
          type: string
          format: uuid
          example: 550e8400-e29b-41d4-a716-446655440003
        baseImage:
          type: string
          minLength: 1
          maxLength: 255
          example: node:20
        cpuLimit:
          type: number
          format: float
          minimum: 0.1
          maximum: 16
          example: 2.0
        memoryLimit:
          type: integer
          minimum: 128
          maximum: 32768
          example: 4096
        storageLimit:
          type: integer
          minimum: 1024
          maximum: 102400
          example: 20480

    UpdateEnvironmentRequest:
      type: object
      properties:
        name:
          type: string
          minLength: 1
          maxLength: 100
          example: Production
        slug:
          type: string
          pattern: ^[a-z0-9-]{3,50}$
          example: prod
        description:
          type: string
          maxLength: 1000
          nullable: true
          example: Updated description
        cpuLimit:
          type: number
          format: float
          minimum: 0.1
          maximum: 16
          example: 4.0
        memoryLimit:
          type: integer
          minimum: 128
          maximum: 32768
          example: 8192
        storageLimit:
          type: integer
          minimum: 1024
          maximum: 102400
          example: 40960

    EnvironmentPort:
      type: object
      required:
        - id
        - environmentId
        - containerPort
        - protocol
      properties:
        id:
          type: string
          format: uuid
          example: 550e8400-e29b-41d4-a716-446655440005
        environmentId:
          type: string
          format: uuid
          example: 550e8400-e29b-41d4-a716-446655440004
        containerPort:
          type: integer
          minimum: 1
          maximum: 65535
          example: 3000
        hostPort:
          type: integer
          minimum: 1
          maximum: 65535
          nullable: true
          example: 3000
        protocol:
          type: string
          enum: [tcp, udp]
          default: tcp
          example: tcp
        description:
          type: string
          nullable: true
          example: HTTP server port

    AddPortRequest:
      type: object
      required:
        - containerPort
      properties:
        containerPort:
          type: integer
          minimum: 1
          maximum: 65535
          example: 3000
        hostPort:
          type: integer
          minimum: 1
          maximum: 65535
          example: 3000
        protocol:
          type: string
          enum: [tcp, udp]
          default: tcp
          example: tcp
        description:
          type: string
          maxLength: 255
          example: HTTP server port

    EnvironmentVariable:
      type: object
      required:
        - id
        - environmentId
        - key
        - value
        - isEncrypted
        - createdAt
        - updatedAt
      properties:
        id:
          type: string
          format: uuid
          example: 550e8400-e29b-41d4-a716-446655440006
        environmentId:
          type: string
          format: uuid
          example: 550e8400-e29b-41d4-a716-446655440004
        key:
          type: string
          minLength: 1
          maxLength: 255
          example: NODE_ENV
        value:
          type: string
          maxLength: 4096
          example: development
        isEncrypted:
          type: boolean
          default: false
          example: false
        createdAt:
          type: string
          format: date-time
          example: 2025-10-01T00:00:00.000Z
        updatedAt:
          type: string
          format: date-time
          example: 2025-10-01T00:00:00.000Z

    SetVariableRequest:
      type: object
      required:
        - key
        - value
      properties:
        key:
          type: string
          minLength: 1
          maxLength: 255
          example: NODE_ENV
        value:
          type: string
          maxLength: 4096
          example: development
        isEncrypted:
          type: boolean
          default: false
          example: false

    # Session Schemas
    Session:
      type: object
      required:
        - id
        - environmentId
        - sessionType
        - sessionName
        - status
        - createdAt
        - lastActivityAt
        - idleTimeoutMinutes
      properties:
        id:
          type: string
          format: uuid
          example: 550e8400-e29b-41d4-a716-446655440007
        environmentId:
          type: string
          format: uuid
          example: 550e8400-e29b-41d4-a716-446655440004
        sessionType:
          type: string
          enum: [vscode_server, tmux, shell]
          example: tmux
        sessionName:
          type: string
          example: dev-session
        status:
          type: string
          enum: [starting, active, idle, terminated]
          example: active
        connectionUrl:
          type: string
          format: uri
          nullable: true
          example: http://localhost:8080
        pid:
          type: integer
          nullable: true
          example: 1234
        createdAt:
          type: string
          format: date-time
          example: 2025-10-01T12:00:00.000Z
        lastActivityAt:
          type: string
          format: date-time
          example: 2025-10-01T12:05:00.000Z
        idleTimeoutMinutes:
          type: integer
          default: 30
          example: 30
        terminatedAt:
          type: string
          format: date-time
          nullable: true
          example: null

    CreateSessionRequest:
      type: object
      required:
        - sessionType
        - sessionName
      properties:
        sessionType:
          type: string
          enum: [vscode_server, tmux, shell]
          example: tmux
        sessionName:
          type: string
          minLength: 1
          maxLength: 100
          example: dev-session
        idleTimeoutMinutes:
          type: integer
          minimum: 1
          maximum: 1440
          default: 30
          example: 60

    # Extension Schemas
    Extension:
      type: object
      required:
        - id
        - extensionId
        - name
        - version
        - publisher
        - isCustom
        - createdAt
        - updatedAt
      properties:
        id:
          type: string
          format: uuid
          example: 550e8400-e29b-41d4-a716-446655440008
        extensionId:
          type: string
          example: ms-python.python
        name:
          type: string
          example: Python
        version:
          type: string
          example: 2024.0.1
        description:
          type: string
          nullable: true
          example: Python language support
        publisher:
          type: string
          example: ms-python
        iconUrl:
          type: string
          format: uri
          nullable: true
          example: https://example.com/icon.png
        isCustom:
          type: boolean
          default: false
          example: false
        downloadUrl:
          type: string
          format: uri
          nullable: true
          example: https://example.com/extension.vsix
        createdAt:
          type: string
          format: date-time
          example: 2025-10-01T00:00:00.000Z
        updatedAt:
          type: string
          format: date-time
          example: 2025-10-01T00:00:00.000Z

    EnvironmentExtension:
      type: object
      required:
        - id
        - environmentId
        - extensionId
        - status
        - createdAt
      properties:
        id:
          type: string
          format: uuid
          example: 550e8400-e29b-41d4-a716-446655440009
        environmentId:
          type: string
          format: uuid
          example: 550e8400-e29b-41d4-a716-446655440004
        extensionId:
          type: string
          example: ms-python.python
        status:
          type: string
          enum: [pending, installing, installed, failed, uninstalling]
          example: installed
        errorMessage:
          type: string
          nullable: true
          example: Installation failed
        installedAt:
          type: string
          format: date-time
          nullable: true
          example: 2025-10-01T12:00:00.000Z
        createdAt:
          type: string
          format: date-time
          example: 2025-10-01T12:00:00.000Z
        extension:
          $ref: '#/components/schemas/Extension'

    InstallExtensionRequest:
      type: object
      required:
        - extensionId
      properties:
        extensionId:
          type: string
          example: ms-python.python

    # Log Schemas
    LogEntry:
      type: object
      required:
        - id
        - environmentId
        - timestamp
        - stream
        - message
        - createdAt
      properties:
        id:
          type: string
          format: uuid
          example: 550e8400-e29b-41d4-a716-44665544000a
        environmentId:
          type: string
          format: uuid
          example: 550e8400-e29b-41d4-a716-446655440004
        timestamp:
          type: string
          format: date-time
          example: 2025-10-01T12:00:00.123Z
        stream:
          type: string
          enum: [stdout, stderr]
          example: stdout
        message:
          type: string
          example: Server started on port 3000
        createdAt:
          type: string
          format: date-time
          example: 2025-10-01T12:00:00.123Z

    # Health Schema
    HealthResponse:
      type: object
      required:
        - status
        - timestamp
        - uptime
      properties:
        status:
          type: string
          example: healthy
        timestamp:
          type: string
          format: date-time
          example: 2025-10-01T12:00:00.000Z
        uptime:
          type: number
          example: 12345.67

    # Error Schemas
    Error:
      type: object
      required:
        - error
        - message
      properties:
        error:
          type: string
          example: ValidationError
        message:
          type: string
          example: Invalid input data
        details:
          type: object
          additionalProperties: true
          example:
            field: email
            reason: Invalid email format

    SuccessMessage:
      type: object
      required:
        - message
      properties:
        message:
          type: string
          example: Operation completed successfully

  responses:
    BadRequest:
      description: Invalid request parameters
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
          example:
            error: ValidationError
            message: Invalid input data
            details:
              field: email
              reason: Invalid email format

    Unauthorized:
      description: Authentication required or invalid credentials
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
          example:
            error: UnauthorizedError
            message: Invalid credentials

    Forbidden:
      description: Insufficient permissions
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
          example:
            error: ForbiddenError
            message: You do not have permission to access this resource

    NotFound:
      description: Resource not found
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
          example:
            error: NotFoundError
            message: Resource not found

    Conflict:
      description: Resource conflict (e.g., duplicate)
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
          example:
            error: ConflictError
            message: Resource already exists

    TooManyRequests:
      description: Rate limit exceeded
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
          example:
            error: RateLimitError
            message: Too many requests
      headers:
        X-RateLimit-Limit:
          schema:
            type: integer
          description: Request limit per hour
        X-RateLimit-Remaining:
          schema:
            type: integer
          description: Remaining requests
        X-RateLimit-Reset:
          schema:
            type: integer
          description: Time when limit resets (Unix timestamp)

    InternalServerError:
      description: Internal server error
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
          example:
            error: InternalServerError
            message: An unexpected error occurred

paths:
  # Health Endpoints
  /health:
    get:
      tags:
        - Health
      summary: Health check
      description: Check the health status of the API
      operationId: getHealth
      responses:
        '200':
          description: Service is healthy
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HealthResponse'

  # Authentication Endpoints
  /auth/register:
    post:
      tags:
        - Authentication
      summary: Register a new user
      description: Create a new user account with email and password
      operationId: register
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RegisterRequest'
      responses:
        '201':
          description: User registered successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AuthResponse'
        '400':
          $ref: '#/components/responses/BadRequest'
        '409':
          $ref: '#/components/responses/Conflict'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /auth/login:
    post:
      tags:
        - Authentication
      summary: Login with email and password
      description: Authenticate user and receive access/refresh tokens
      operationId: login
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/LoginRequest'
      responses:
        '200':
          description: Login successful
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AuthResponse'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /auth/refresh:
    post:
      tags:
        - Authentication
      summary: Refresh access token
      description: Get a new access token using a valid refresh token
      operationId: refreshToken
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RefreshTokenRequest'
      responses:
        '200':
          description: Token refreshed successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AuthResponse'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /auth/me:
    get:
      tags:
        - Authentication
      summary: Get current user profile
      description: Retrieve the profile of the currently authenticated user
      operationId: getMe
      security:
        - bearerAuth: []
      responses:
        '200':
          description: User profile retrieved successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
        '500':
          $ref: '#/components/responses/InternalServerError'

  # User Endpoints
  /users/me:
    get:
      tags:
        - Users
      summary: Get current user profile
      description: Retrieve the profile of the currently authenticated user
      operationId: getUserProfile
      security:
        - bearerAuth: []
      responses:
        '200':
          description: User profile retrieved successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

    patch:
      tags:
        - Users
      summary: Update current user profile
      description: Update the profile of the currently authenticated user
      operationId: updateUserProfile
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateUserRequest'
      responses:
        '200':
          description: User profile updated successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  # Team Endpoints
  /teams:
    get:
      tags:
        - Teams
      summary: List user's teams
      description: Retrieve all teams the current user is a member of
      operationId: listTeams
      security:
        - bearerAuth: []
      responses:
        '200':
          description: Teams retrieved successfully
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Team'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

    post:
      tags:
        - Teams
      summary: Create a new team
      description: Create a new team with the current user as admin
      operationId: createTeam
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateTeamRequest'
      responses:
        '201':
          description: Team created successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Team'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '409':
          $ref: '#/components/responses/Conflict'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /teams/{teamId}:
    get:
      tags:
        - Teams
      summary: Get team details
      description: Retrieve details of a specific team
      operationId: getTeam
      security:
        - bearerAuth: []
      parameters:
        - name: teamId
          in: path
          required: true
          description: Team ID
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Team retrieved successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Team'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
        '500':
          $ref: '#/components/responses/InternalServerError'

    patch:
      tags:
        - Teams
      summary: Update team details
      description: Update team information (admin only)
      operationId: updateTeam
      security:
        - bearerAuth: []
      parameters:
        - name: teamId
          in: path
          required: true
          description: Team ID
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateTeamRequest'
      responses:
        '200':
          description: Team updated successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Team'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
        '500':
          $ref: '#/components/responses/InternalServerError'

    delete:
      tags:
        - Teams
      summary: Delete a team
      description: Delete a team (admin only)
      operationId: deleteTeam
      security:
        - bearerAuth: []
      parameters:
        - name: teamId
          in: path
          required: true
          description: Team ID
          schema:
            type: string
            format: uuid
      responses:
        '204':
          description: Team deleted successfully
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /teams/{teamId}/members:
    get:
      tags:
        - Teams
      summary: List team members
      description: Retrieve all members of a team
      operationId: listTeamMembers
      security:
        - bearerAuth: []
      parameters:
        - name: teamId
          in: path
          required: true
          description: Team ID
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Team members retrieved successfully
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/TeamMember'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
        '500':
          $ref: '#/components/responses/InternalServerError'

    post:
      tags:
        - Teams
      summary: Add team member
      description: Add a new member to the team (admin only)
      operationId: addTeamMember
      security:
        - bearerAuth: []
      parameters:
        - name: teamId
          in: path
          required: true
          description: Team ID
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AddTeamMemberRequest'
      responses:
        '201':
          description: Team member added successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TeamMember'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
        '409':
          $ref: '#/components/responses/Conflict'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /teams/{teamId}/members/{userId}:
    delete:
      tags:
        - Teams
      summary: Remove team member
      description: Remove a member from the team (admin only)
      operationId: removeTeamMember
      security:
        - bearerAuth: []
      parameters:
        - name: teamId
          in: path
          required: true
          description: Team ID
          schema:
            type: string
            format: uuid
        - name: userId
          in: path
          required: true
          description: User ID to remove
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Team member removed successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SuccessMessage'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
        '500':
          $ref: '#/components/responses/InternalServerError'

  # Project Endpoints
  /projects:
    get:
      tags:
        - Projects
      summary: List projects
      description: Retrieve all projects accessible to the current user
      operationId: listProjects
      security:
        - bearerAuth: []
      parameters:
        - name: teamId
          in: query
          description: Filter by team ID
          schema:
            type: string
            format: uuid
        - name: archived
          in: query
          description: Include archived projects
          schema:
            type: boolean
            default: false
      responses:
        '200':
          description: Projects retrieved successfully
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Project'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

    post:
      tags:
        - Projects
      summary: Create a new project
      description: Create a new project (personal or team-owned)
      operationId: createProject
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateProjectRequest'
      responses:
        '201':
          description: Project created successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Project'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '409':
          $ref: '#/components/responses/Conflict'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /projects/{projectId}:
    get:
      tags:
        - Projects
      summary: Get project details
      description: Retrieve details of a specific project
      operationId: getProject
      security:
        - bearerAuth: []
      parameters:
        - name: projectId
          in: path
          required: true
          description: Project ID
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Project retrieved successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Project'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
        '500':
          $ref: '#/components/responses/InternalServerError'

    patch:
      tags:
        - Projects
      summary: Update project details
      description: Update project information
      operationId: updateProject
      security:
        - bearerAuth: []
      parameters:
        - name: projectId
          in: path
          required: true
          description: Project ID
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateProjectRequest'
      responses:
        '200':
          description: Project updated successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Project'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
        '500':
          $ref: '#/components/responses/InternalServerError'

    delete:
      tags:
        - Projects
      summary: Delete a project
      description: Delete a project and all associated environments
      operationId: deleteProject
      security:
        - bearerAuth: []
      parameters:
        - name: projectId
          in: path
          required: true
          description: Project ID
          schema:
            type: string
            format: uuid
      responses:
        '204':
          description: Project deleted successfully
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
        '500':
          $ref: '#/components/responses/InternalServerError'

  # Environment Endpoints
  /environments:
    post:
      tags:
        - Environments
      summary: Create a new environment
      description: Create a new Docker-based development environment
      operationId: createEnvironment
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateEnvironmentRequest'
      responses:
        '201':
          description: Environment created successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Environment'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '409':
          $ref: '#/components/responses/Conflict'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /environments/{envId}:
    get:
      tags:
        - Environments
      summary: Get environment details
      description: Retrieve details of a specific environment
      operationId: getEnvironment
      security:
        - bearerAuth: []
      parameters:
        - name: envId
          in: path
          required: true
          description: Environment ID
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Environment retrieved successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Environment'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
        '500':
          $ref: '#/components/responses/InternalServerError'

    patch:
      tags:
        - Environments
      summary: Update environment details
      description: Update environment configuration
      operationId: updateEnvironment
      security:
        - bearerAuth: []
      parameters:
        - name: envId
          in: path
          required: true
          description: Environment ID
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateEnvironmentRequest'
      responses:
        '200':
          description: Environment updated successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Environment'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
        '500':
          $ref: '#/components/responses/InternalServerError'

    delete:
      tags:
        - Environments
      summary: Delete an environment
      description: Delete an environment and stop its container
      operationId: deleteEnvironment
      security:
        - bearerAuth: []
      parameters:
        - name: envId
          in: path
          required: true
          description: Environment ID
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Environment deleted successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SuccessMessage'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /environments/{envId}/start:
    post:
      tags:
        - Environments
      summary: Start an environment
      description: Start the Docker container for this environment
      operationId: startEnvironment
      security:
        - bearerAuth: []
      parameters:
        - name: envId
          in: path
          required: true
          description: Environment ID
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Environment started successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Environment'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
        '409':
          $ref: '#/components/responses/Conflict'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /environments/{envId}/stop:
    post:
      tags:
        - Environments
      summary: Stop an environment
      description: Stop the Docker container for this environment
      operationId: stopEnvironment
      security:
        - bearerAuth: []
      parameters:
        - name: envId
          in: path
          required: true
          description: Environment ID
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Environment stopped successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Environment'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /environments/{envId}/restart:
    post:
      tags:
        - Environments
      summary: Restart an environment
      description: Restart the Docker container for this environment
      operationId: restartEnvironment
      security:
        - bearerAuth: []
      parameters:
        - name: envId
          in: path
          required: true
          description: Environment ID
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Environment restarted successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Environment'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /environments/{envId}/ports:
    post:
      tags:
        - Environments
      summary: Add port mapping
      description: Add a port mapping to the environment
      operationId: addPort
      security:
        - bearerAuth: []
      parameters:
        - name: envId
          in: path
          required: true
          description: Environment ID
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AddPortRequest'
      responses:
        '201':
          description: Port mapping added successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Port mapping added successfully
                  portMapping:
                    $ref: '#/components/schemas/EnvironmentPort'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
        '409':
          $ref: '#/components/responses/Conflict'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /environments/{envId}/ports/{port}:
    delete:
      tags:
        - Environments
      summary: Remove port mapping
      description: Remove a port mapping from the environment
      operationId: removePort
      security:
        - bearerAuth: []
      parameters:
        - name: envId
          in: path
          required: true
          description: Environment ID
          schema:
            type: string
            format: uuid
        - name: port
          in: path
          required: true
          description: Container port number
          schema:
            type: integer
            minimum: 1
            maximum: 65535
      responses:
        '200':
          description: Port mapping removed successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SuccessMessage'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /environments/{envId}/variables:
    post:
      tags:
        - Environments
      summary: Set environment variable
      description: Add or update an environment variable
      operationId: setVariable
      security:
        - bearerAuth: []
      parameters:
        - name: envId
          in: path
          required: true
          description: Environment ID
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SetVariableRequest'
      responses:
        '201':
          description: Environment variable set successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SuccessMessage'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /environments/{envId}/variables/{key}:
    delete:
      tags:
        - Environments
      summary: Remove environment variable
      description: Remove an environment variable
      operationId: removeVariable
      security:
        - bearerAuth: []
      parameters:
        - name: envId
          in: path
          required: true
          description: Environment ID
          schema:
            type: string
            format: uuid
        - name: key
          in: path
          required: true
          description: Variable key
          schema:
            type: string
      responses:
        '200':
          description: Environment variable removed successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SuccessMessage'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /environments/projects/{projectId}/environments:
    get:
      tags:
        - Environments
      summary: List project environments
      description: List all environments in a project
      operationId: listProjectEnvironments
      security:
        - bearerAuth: []
      parameters:
        - name: projectId
          in: path
          required: true
          description: Project ID
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Environments retrieved successfully
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Environment'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
        '500':
          $ref: '#/components/responses/InternalServerError'

  # Session Endpoints
  /environments/{envId}/sessions:
    get:
      tags:
        - Sessions
      summary: List environment sessions
      description: List all active sessions in an environment
      operationId: listSessions
      security:
        - bearerAuth: []
      parameters:
        - name: envId
          in: path
          required: true
          description: Environment ID
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Sessions retrieved successfully
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Session'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
        '500':
          $ref: '#/components/responses/InternalServerError'

    post:
      tags:
        - Sessions
      summary: Create a new session
      description: Create a new session (VS Code, tmux, or shell)
      operationId: createSession
      security:
        - bearerAuth: []
      parameters:
        - name: envId
          in: path
          required: true
          description: Environment ID
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateSessionRequest'
      responses:
        '201':
          description: Session created successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Session'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
        '409':
          $ref: '#/components/responses/Conflict'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /sessions/{sessionId}:
    get:
      tags:
        - Sessions
      summary: Get session details
      description: Retrieve details of a specific session
      operationId: getSession
      security:
        - bearerAuth: []
      parameters:
        - name: sessionId
          in: path
          required: true
          description: Session ID
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Session retrieved successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Session'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
        '500':
          $ref: '#/components/responses/InternalServerError'

    delete:
      tags:
        - Sessions
      summary: Terminate a session
      description: Terminate an active session
      operationId: terminateSession
      security:
        - bearerAuth: []
      parameters:
        - name: sessionId
          in: path
          required: true
          description: Session ID
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Session terminated successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SuccessMessage'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
        '500':
          $ref: '#/components/responses/InternalServerError'

  # Extension Endpoints
  /extensions:
    get:
      tags:
        - Extensions
      summary: Search extensions
      description: Search VS Code extensions in the marketplace
      operationId: searchExtensions
      security:
        - bearerAuth: []
      parameters:
        - name: query
          in: query
          description: Search query
          schema:
            type: string
        - name: publisher
          in: query
          description: Filter by publisher
          schema:
            type: string
      responses:
        '200':
          description: Extensions retrieved successfully
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Extension'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /environments/{envId}/extensions:
    get:
      tags:
        - Extensions
      summary: List installed extensions
      description: List all extensions installed in an environment
      operationId: listInstalledExtensions
      security:
        - bearerAuth: []
      parameters:
        - name: envId
          in: path
          required: true
          description: Environment ID
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Installed extensions retrieved successfully
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/EnvironmentExtension'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
        '500':
          $ref: '#/components/responses/InternalServerError'

    post:
      tags:
        - Extensions
      summary: Install extension
      description: Install a VS Code extension in an environment
      operationId: installExtension
      security:
        - bearerAuth: []
      parameters:
        - name: envId
          in: path
          required: true
          description: Environment ID
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/InstallExtensionRequest'
      responses:
        '202':
          description: Extension installation initiated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/EnvironmentExtension'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /environments/{envId}/extensions/{extensionId}:
    delete:
      tags:
        - Extensions
      summary: Uninstall extension
      description: Uninstall a VS Code extension from an environment
      operationId: uninstallExtension
      security:
        - bearerAuth: []
      parameters:
        - name: envId
          in: path
          required: true
          description: Environment ID
          schema:
            type: string
            format: uuid
        - name: extensionId
          in: path
          required: true
          description: Extension ID (e.g., ms-python.python)
          schema:
            type: string
      responses:
        '200':
          description: Extension uninstalled successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SuccessMessage'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
        '500':
          $ref: '#/components/responses/InternalServerError'

  # Log Endpoints
  /environments/{envId}/logs:
    get:
      tags:
        - Logs
      summary: Get environment logs
      description: Retrieve historical logs for an environment
      operationId: getEnvironmentLogs
      security:
        - bearerAuth: []
      parameters:
        - name: envId
          in: path
          required: true
          description: Environment ID
          schema:
            type: string
            format: uuid
        - name: since
          in: query
          description: Start timestamp (ISO 8601)
          schema:
            type: string
            format: date-time
        - name: until
          in: query
          description: End timestamp (ISO 8601)
          schema:
            type: string
            format: date-time
        - name: tail
          in: query
          description: Number of recent lines to return
          schema:
            type: integer
            default: 100
            minimum: 1
            maximum: 10000
        - name: stream
          in: query
          description: Filter by stream type
          schema:
            type: string
            enum: [stdout, stderr, all]
            default: all
      responses:
        '200':
          description: Logs retrieved successfully
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/LogEntry'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
        '500':
          $ref: '#/components/responses/InternalServerError'
