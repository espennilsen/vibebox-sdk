---
apiVersion: external-secrets.io/v1beta1
kind: ExternalSecret
metadata:
  name: vibebox-app
  namespace: default
spec:
  refreshInterval: 1h
  secretStoreRef:
    name: vibebox-aws-secretstore
    kind: SecretStore
  target:
    name: vibebox-app
    creationPolicy: Owner
  data:
    # Encryption key for environment variables
    - secretKey: ENCRYPTION_KEY
      remoteRef:
        key: vibebox/encryption-key

    # Frontend URL
    - secretKey: FRONTEND_URL
      remoteRef:
        key: vibebox/frontend-url

    # Docker host (if needed)
    - secretKey: DOCKER_HOST
      remoteRef:
        key: vibebox/docker-host

    # Node environment
    - secretKey: NODE_ENV
      remoteRef:
        key: vibebox/node-env

    # Log level
    - secretKey: LOG_LEVEL
      remoteRef:
        key: vibebox/log-level
