---
apiVersion: external-secrets.io/v1beta1
kind: SecretStore
metadata:
  name: vibebox-azure-secretstore
  namespace: default
spec:
  provider:
    azurekv:
      vaultUrl: "https://your-keyvault-name.vault.azure.net"  # Change to your Key Vault URL
      tenantId: "your-tenant-id"  # Change to your Azure AD tenant ID
      authType: ServicePrincipal
      authSecretRef:
        clientId:
          name: azurekv-secret
          key: clientid
        clientSecret:
          name: azurekv-secret
          key: clientsecret

---
# ClusterSecretStore for use across all namespaces
apiVersion: external-secrets.io/v1beta1
kind: ClusterSecretStore
metadata:
  name: vibebox-azure-cluster-secretstore
spec:
  provider:
    azurekv:
      vaultUrl: "https://your-keyvault-name.vault.azure.net"
      tenantId: "your-tenant-id"
      authType: ServicePrincipal
      authSecretRef:
        clientId:
          name: azurekv-secret
          key: clientid
          namespace: default
        clientSecret:
          name: azurekv-secret
          key: clientsecret
          namespace: default
